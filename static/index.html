<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <title>AJAX Test</title>
  <style>
    #myDiv{
      margin-top: 200px;
      border: 1px solid #eee;
    }
  </style>
</head>

<body>

  <div id="myDiv" style="width: 500px; height: 800px; margin: auto; overflow: scroll"></div>

<!--  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>-->
  <script>
    const evtSource = new EventSource('http://192.168.137.228:8000/api/chat_manage/message/stream?message=hello')
      evtSource.addEventListener('message', (event) => {
        console.log(event,'1111')
        let text = ''
        text += event.data
        $("#myDiv").text(text)
      })
    // $(document).ready(function() {
      // $.ajax({
      //   url: "http://192.168.137.228:8000/api/chat_manage/message/stream?message=如何学习python",
      //   method: "GET",
      //   dataType: "text",
      //   success: function(data) {
      //     $("#myDiv").text(data);
      //   },
      //   error: function(xhr, status, error) {
      //     console.log("Error: " + error);
      //   }
      // });

    // });
  </script>

</body>

</html>
